<html>
<title>swag swag swaggity swag </title>
<div class="jumbotron text-center" style="margin-bottom:0">
  <h1 class="headings">Long Live Wakanda</h1>
  <section id ="descript"></section>
</div>

  <script src="https://code.jquery.com/jquery-latest.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="stylesheet" href="../static/css/style.css">
<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
</nav>
<!-- start of entering my values -->
<div class= "container" id = "descrip">
  <br>
<h6>On a scale of 1-10 (10 being the highest) how important are these features for you and your partner?</h6>
</div>
<div class="container" style="margin-top:30px">

  <div class="row">
    <div class="col-sm-6">
      <h2 class="headings">Your values</h2>

      <div class="form-group">
          <div class="col-xs-3">
              <label for="attr"><h4><span class="attr">Attractiveness</span></h4></label>
          </div>
          <div class="attr">

              <input type="attr" id="attr" min="0" max="10" class="form-control input-lg"/>
          </div>
      </div>

      <div class="form-group">
          <div class="col-xs-3">
              <label for="sinc"><h4><span class=" label label-primary">Sincerity</span></h4></label>
          </div>
          <div class="col-xs-2">
              <input type="sinc" id="sinc" min="0" max="10" class="form-control input-lg"/>
          </div>
      </div>

      <div class="form-group">
          <div class="col-xs-3">
              <label for="intel"><h4><span class=" label label-primary">Intelligence</span></h4></label>
          </div>
          <div class="col-xs-2">
              <input type="intel" id="intel" min="0" max="10" class="form-control input-lg"/>
          </div>
      </div>

      <div class="form-group">
          <div class="col-xs-3">
              <label for="fun"><h4><span class=" label label-primary">Fun</span></h4></label>
          </div>
          <div class="col-xs-2">
              <input type="fun" id="fun" min="0" max="10" class="form-control input-lg"/>
          </div>
      </div>

      <div class="form-group">
          <div class="col-xs-3">
              <label for="amb"><h4><span class=" label label-primary">Ambition</span></h4></label>
          </div>
          <div class="col-xs-2">
              <input type="amb" id="amb" min="0" max="10" class="form-control input-lg"/>
          </div>
      </div>

      <div class="form-group">
          <div class="col-xs-3">
              <label for="shar"><h4><span class=" label label-primary">Shared Interests</span></h4></label>
          </div>
          <div class="col-xs-2">
              <input type="shar" id="shar" min="0" max="10" class="form-control input-lg"/>
          </div>
      </div>


      <hr class="d-sm-none">

    </div>
<!--start of entering partner's values  -->
    <div class="col-sm-6">
      <h2 class="headings">Partner's Values</h2>



        <div class="form-group">
            <div class="col-xs-3">
                <label for="attr"><h4><span class=" label label-primary">Attractiveness</span></h4></label>
            </div>
            <div class="col-xs-2">
                <input type="number" id="attr_o" min="0" max="10" class="form-control input-lg"/>
            </div>
        </div>

        <div class="form-group">
            <div class="col-xs-3">
                <label for="sinc"><h4><span class=" label label-primary">Sincerity</span></h4></label>
            </div>
            <div class="col-xs-2">
                <input type="number" id="sinc_o" min="0" max="10" class="form-control input-lg"/>
            </div>
        </div>

        <div class="form-group">
            <div class="col-xs-3">
                <label for="intel"><h4><span class=" label label-primary">Intelligence</span></h4></label>
            </div>
            <div class="col-xs-2">
                <input type="number" id="intel_o" min="0" max="10" class="form-control input-lg"/>
            </div>
        </div>

        <div class="form-group">
            <div class="col-xs-3">
                <label for="fun"><h4><span class=" label label-primary">Fun</span></h4></label>
            </div>
            <div class="col-xs-2">
                <input type="number" id="fun_o" min="0" max="10" class="form-control input-lg"/>
            </div>
        </div>

        <div class="form-group">
            <div class="col-xs-3">
                <label for="amb"><h4><span class=" label label-primary">Ambition</span></h4></label>
            </div>
            <div class="col-xs-2">
                <input type="number" id="amb_o" min="0" max="10" class="form-control input-lg"/>
            </div>
        </div>

        <div class="form-group">
            <div class="col-xs-3">
                <label for="shar"><h4><span class=" label label-primary">Shared Interests</span></h4></label>
            </div>
            <div class="col-xs-2">
                <input type="number" id="shar_o" min="0" max="10" class="form-control input-lg"/>
            </div>
        </div>
        <div class="container" style="margin-top:30px">

      </div>


      </div>
      <!-- <div class = 'button'> -->
                <div class="form-group">
                    <div class = 'button'>
                  <!-- <button id="submit">Make prediction</button> -->
                </div>
                </div>



              </div>

    </div>

<br>

<button id="submit">Make prediction</button>
<h4>
<table>
<tr><td>
<h3>You will likely</h3>
</td><td id="hard_predict"></td></tr>
<tr><td>
<h3>Probability of actually matching</h3>
</td><td id="soft_predict"></td></tr>
</table>
</h4>

<div class='heart_class'>
  <img id='the_heart' src='https://chicfetti.com/wp-content/uploads/2015/01/free-svg-file-heart-2.png' width='100px'/>
</div>

</body>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"> </script>
  <script>

  function colorHeart(percentage){
    const heartWidth = 200 - 28 - 28;
    console.log('stuff');
    const heart = document.getElementById('the_heart').style.clip = `rect(0px, ${28 + percentage*heartWidth}px, 300px, 0px)`;
  }

  $('#submit').click( () => {cool(); } );

  function cool(){
    let features = {
       'attr': $('#attr').val(),
       'sinc': $('#sinc').val(),
       'intel': $('#intel').val(),
       'fun': $('#fun').val(),
       'amb': $('#amb').val(),
       'shar': $('#shar').val(),
       'attr_o': $('#attr_o').val(),
       'sinc_o': $('#sinc_o').val(),
       'intel_o': $('#intel_o').val(),
       'fun_o': $('#fun_o').val(),
       'amb_o': $('#amb_o').val(),
       'shar_o': $('#shar_o').val(),
    }
    console.log(features);

    $.ajax({
  type: "POST",
  contentType: "application/json; charset=utf-8",
  url: "/predict",  // Replace with URL of POST handler
  dataType: "json",
  async: true,
  data: JSON.stringify(features),
  success: (result) => {
    $('#hard_predict').html(result['prediction'] ? 'match': 'not match');
    $('#soft_predict').html(result['prob_matched']);
    colorHeart(result['prob_matched'])
  },
  error: (result) => {
    alert("you won't get any matches this way");
  }
})
  }
  </script>



</html>
